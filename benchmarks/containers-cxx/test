#!/bin/bash

CC=gcc-10
EXE=main

# TODO use `ccache`
${CC} -x c++ -std=gnu++1y \
      -D__MAIN__ -DNDEBUG \
      -O6 -funroll-loops -ftree-vectorize -floop-interchange -floop-block -flto -ftree-partial-pre -fno-diagnostics-show-caret \
      -Wall -Warray-bounds -Wempty-body -Wunused-but-set-variable -Wunused-but-set-parameter -Winit-self -Wwrite-strings -Wmissing-braces -Wsign-compare -Wcast-align -Wpointer-arith -Wchar-subscripts \
      app.cpp \
      -I.. -I../src -I../.. -I../../.. \
      -lstdc++ -lpthread \
      -o ${EXE} && ./$EXE
